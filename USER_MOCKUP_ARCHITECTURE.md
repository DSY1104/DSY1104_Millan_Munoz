# User Mockup System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER MOCKUP SYSTEM                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. DATA LAYER                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”                                                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“„ src/assets/data/users.json                                   â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚ User 1: Alex (Gold, 7500 pts)       â”‚                   â”‚
â”‚      â”‚ User 2: MarÃ­a (Platinum, 15420 pts) â”‚                   â”‚
â”‚      â”‚ User 3: Carlos (Silver, 3200 pts)   â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. SERVICE LAYER                                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”§ src/services/userService.js                                  â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚ â€¢ getUserById()                      â”‚                   â”‚
â”‚      â”‚ â€¢ authenticateUser()                 â”‚                   â”‚
â”‚      â”‚ â€¢ updateUserProfile()                â”‚                   â”‚
â”‚      â”‚ â€¢ addUserPoints()                    â”‚                   â”‚
â”‚      â”‚ â€¢ getCurrentUser()                   â”‚                   â”‚
â”‚      â”‚ â€¢ saveCurrentUser()                  â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. LOADER LAYER                                                 â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                 â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“¥ src/loaders/userLoader.js                                    â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚ â€¢ userProfileLoader()                â”‚                   â”‚
â”‚      â”‚   â†’ Fetches user before page render  â”‚                   â”‚
â”‚      â”‚ â€¢ userByIdLoader()                   â”‚                   â”‚
â”‚      â”‚   â†’ Fetches specific user            â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”— Used in App.jsx Router:                                      â”‚
â”‚      {                                                            â”‚
â”‚        path: "profile",                                           â”‚
â”‚        element: <UserProfile />,                                  â”‚
â”‚        loader: userProfileLoader                                  â”‚
â”‚      }                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. CONTEXT LAYER                                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                â”‚
â”‚                                                                   â”‚
â”‚  ğŸŒ src/context/UserContext.jsx                                  â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚ State:                               â”‚                   â”‚
â”‚      â”‚  â€¢ user (current user object)        â”‚                   â”‚
â”‚      â”‚  â€¢ loading                           â”‚                   â”‚
â”‚      â”‚                                      â”‚                   â”‚
â”‚      â”‚ Methods:                             â”‚                   â”‚
â”‚      â”‚  â€¢ login(userData)                   â”‚                   â”‚
â”‚      â”‚  â€¢ logout()                          â”‚                   â”‚
â”‚      â”‚  â€¢ updatePersonal(data)              â”‚                   â”‚
â”‚      â”‚  â€¢ updateAddress(data)               â”‚                   â”‚
â”‚      â”‚  â€¢ updatePreferences(data)           â”‚                   â”‚
â”‚      â”‚  â€¢ updateGaming(data)                â”‚                   â”‚
â”‚      â”‚  â€¢ addPoints(points)                 â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸª src/hooks/useUser.js                                         â”‚
â”‚      â†’ Custom hook for easy context access                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. PAGE LAYER                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”                                                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“„ src/pages/UserProfile.jsx                                    â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚ 1. useLoaderData() to get user       â”‚                   â”‚
â”‚      â”‚ 2. Wraps content in <UserProvider>   â”‚                   â”‚
â”‚      â”‚ 3. Displays user stats & level       â”‚                   â”‚
â”‚      â”‚ 4. Renders tab components            â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. COMPONENT LAYER                                              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                              â”‚
â”‚                                                                   â”‚
â”‚  All tabs use: const { user, updateXXX } = useUser()            â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ”¹ ProfilePersonalTab      â†’ user.personal               â”‚ â”‚
â”‚  â”‚ ğŸ”¹ ProfileAddressTab       â†’ user.address                â”‚ â”‚
â”‚  â”‚ ğŸ”¹ ProfilePreferencesTab   â†’ user.preferences            â”‚ â”‚
â”‚  â”‚ ğŸ”¹ ProfileGamingTab        â†’ user.gaming                 â”‚ â”‚
â”‚  â”‚ ğŸ”¹ ProfileCouponsTab       â†’ user.coupons, user.stats    â”‚ â”‚
â”‚  â”‚ ğŸ”¹ ProfileSecurityTab      â†’ Standalone                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. DEVELOPER UTILITIES                                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                          â”‚
â”‚                                                                   â”‚
â”‚  ğŸ› ï¸ src/utils/userSwitcher.js                                   â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚ Console Commands:                    â”‚                   â”‚
â”‚      â”‚  â€¢ switchToUser(1/2/3)              â”‚                   â”‚
â”‚      â”‚  â€¢ whoAmI()                          â”‚                   â”‚
â”‚      â”‚  â€¢ logoutUser()                      â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ“– src/utils/userMockupInfo.js                                  â”‚
â”‚      â†’ Displays help guide on app load                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATA FLOW EXAMPLE                                               â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                              â”‚
â”‚                                                                   â”‚
â”‚  User navigates to /profile                                      â”‚
â”‚           â†“                                                       â”‚
â”‚  Router calls userProfileLoader()                                â”‚
â”‚           â†“                                                       â”‚
â”‚  Loader calls userService.getUserById()                          â”‚
â”‚           â†“                                                       â”‚
â”‚  Service reads from users.json                                   â”‚
â”‚           â†“                                                       â”‚
â”‚  User data returned to page                                      â”‚
â”‚           â†“                                                       â”‚
â”‚  UserProfile wraps in UserProvider                               â”‚
â”‚           â†“                                                       â”‚
â”‚  Components use useUser() hook                                   â”‚
â”‚           â†“                                                       â”‚
â”‚  User sees data, can edit                                        â”‚
â”‚           â†“                                                       â”‚
â”‚  On save: updatePersonal() called                                â”‚
â”‚           â†“                                                       â”‚
â”‚  Context updates state & localStorage                            â”‚
â”‚           â†“                                                       â”‚
â”‚  UI reflects changes immediately                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STORAGE STRATEGY                                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                               â”‚
â”‚                                                                   â”‚
â”‚  localStorage Key: "currentUser"                                 â”‚
â”‚                                                                   â”‚
â”‚  Stored on:                                                      â”‚
â”‚   â€¢ User login                                                   â”‚
â”‚   â€¢ Profile updates                                              â”‚
â”‚   â€¢ User switch (dev tool)                                       â”‚
â”‚                                                                   â”‚
â”‚  Retrieved on:                                                   â”‚
â”‚   â€¢ App initialization                                           â”‚
â”‚   â€¢ Loader execution                                             â”‚
â”‚   â€¢ Context creation                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Principles

1. **Single Source of Truth**: users.json â†’ Service â†’ Context
2. **React Router Integration**: Loaders fetch data before render
3. **Context for State**: UserContext manages global user state
4. **Hook for Access**: useUser() provides clean component API
5. **LocalStorage Persistence**: Current user survives page reloads
6. **Developer Friendly**: Console commands for easy testing

## Testing Flow

```
1. Open http://localhost:5174/profile
2. Open Console (F12)
3. Run: switchToUser(2)
        â†“
   Page reloads with MarÃ­a's data
        â†“
4. All tabs show MarÃ­a's info
5. Edit some fields
6. Save changes
        â†“
   Data updates in context & localStorage
        â†“
7. Navigate away and back
        â†“
   Data persists!
```
